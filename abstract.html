<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>arduivis by cskonopka</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-56095763-1', 'auto');
  ga('send', 'pageview');

</script>    
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1><a href="http://cskonopka.github.io/arduivis/">arduivis</h1>
        <p>modular microcontroller programming for visual programming languages</p>

        <p class="view"><a href="https://github.com/cskonopka/arduivis">View the Project on GitHub <small>cskonopka/arduivis</small></a></p>
        
          
          <ul>
          <li><a href="http://cskonopka.github.io/arduivis/abstract">Project<strong>Abstract</strong></a></li>            
              <li><a href="http://cskonopka.github.io/arduivis/maxmodels">Examples<strong>MaxMSP</strong></a></li>
              <li><a href="https://github.com/cskonopka/arduivis">Examples<strong>PureData</strong></a></li>
            </ul>
   

   

<!--  -->


      </header>
      <!--           <p>MaxMSP -->



      <section>
        <h3>

<!-- <pre><code>$ cd cskonopka/arduivis
$ git fetch origin
$ git checkout gh-pages
</code></pre>

<p>If you're using the GitHub for Mac, simply sync your repository and you'll see the new branch.</p>
 -->

 
<h3>

<a name="designer-templates" class="anchor" href="#designer-templates"><span class="octicon octicon-link"></span></a>Abstract</h3>

<p>Within the Arduino environment, there are two main functions that are necessary for any Arduino sketch:</p>

<ul><b>void setup()</b> & <b>void loop()</b></ul>

These two functions work together to first initialize the necessary variables, modes, messages, etc. at the start of the program. After the setup function runs once, a continuous loop starts, allowing the user to actively control programmed events in the loop function. For this project, I will first work through the two main functions of the Arduino environment and specify lines of code that will be necessary for each sketch going forward. In this section I will layout the basis of how to establish, send and receive information from a serial port. After I have done that, I will delve deeper into how MaxMSP and Pure Data each handle this process individually. </p>

<h3>
<a name="designer-templates" class="anchor" href="#designer-templates"><span class="octicon octicon-link"></span></a>void setup()</h3>


<p>There is one vital line of code that is necessary for each example within this project:</p>
  
  <ul><b>Serial.begin(baud);</b></ul>

<p>This function creates and opens a serial port on the Arduino so your computer can communicate with the program on the microcontroller. The information is speed is dictated by the baud which is the data rate in bits per second. For this project I chose to stick with 9600 as my standard baud since Pure Data and MaxMSP default to these bauds when using their respective objects.</p>

<pre><code>void setup()
{
  // Available baud rates
  // 300, 600, 1200, 2400, 4800, 9600, 14400, 19200, 28800
  // 38400, 57600, or 115200

  // Create/open serial port  
  Serial.begin(9600);  
}
</code></pre>

<p><em>http://arduino.cc/en/Reference/Setup</em></p>
<p><em>http://arduino.cc/en/Serial/begin</em></p>


<h3>
<a name="designer-templates" class="anchor" href="#designer-templates"><span class="octicon octicon-link"></span></a>void loop()</h3>
<p>In this function, there are two main lines of code that dictate how information is read by the Arduino and how it is then sent out to a visual programming language. First, to send information to the Arduino, the function below needs to be initialized within the loop.</p>

  <ul><b>Serial.parseInt();</b></ul>

<p>After a serial port has been opened in the setup function, this Serial.parseInt() function is used to read the incoming information from the serial buffer. It is important to note that to properly utilize this function, the data being sent to the serial buffer must be converted from an ASCii value to an integer. Along with that, an ASCii stop byte must be added to the end of the converted message so it can be read correctly by the Arduino.</p>

<p>Next, to send out information from the Arduino to a programming environment, it must be written to the buffer. Note that MaxMSP and Pure Data each handle this operation differently and if mixed up the buffer will not write the data properly.</p> 

  <ul><b>Serial.print(); or Serial.println();  [MaxMSP]</b></ul>
  <ul><b>Serial.write();       [Pure Data]</b></ul>

<p>These main two functions will write data from the Arduino that can be captured within a visual programming language. MaxMSP and Pure Data each have their own way of handling this data and this will be explain in detail in an upcoming section.</p>

<pre><code>void loop() 
{
  // Parse incoming MaxMSP slider values
  // from MaxMSP, to Arduino
    input1 = Serial.parseInt();

  // Print values of input1 to serial buffer
  // Good for debuggin
  // from Arduino, to MaxMSP
    Serial.println(input1);

  // Write parsed values to LEDs
  // Fading LED
  // from MaxMSP, to Arduino
    analogWrite(ledpin, input1);
}  
</code></pre>

<p><em>http://arduino.cc/en/Reference/ParseInt</em></p>

<h3>
<a name="designer-templates" class="anchor" href="#designer-templates"><span class="octicon octicon-link"></span></a>Arduino + MaxMSP</h3>

<p>This sketch is an example of an Arduino sketch that is for MaxMSP</p>

<pre><code>/*
  ~ arduivis ~
  [modular microcontroller programming]

  This example code is in the public domain.
*/
    
// Fading LED
  int ledpin= 3;    

// Message #1 from incoming buffer
  int input1;  

void setup() 
{
  // Create/open serial port
    Serial.begin(9600);     

  // LED Output Mode
    pinMode(ledpin, OUTPUT);     
}

void loop() 
{
  // Parse incoming MaxMSP slider values
  // from MaxMSP, to Arduino
    input1 = Serial.parseInt();

  // Print values of input1 to serial buffer
  // Good for debuggin
  // from Arduino, to MaxMSP
    Serial.println(input1);

  // Write parsed values to LEDs
  // Fading LED
  // from MaxMSP, to Arduino
    analogWrite(ledpin, input1);
}  
</code></pre>

<h3>
<a name="designer-templates" class="anchor" href="#designer-templates"><span class="octicon octicon-link"></span></a>Arduino + Pure Data</h3>

<p>This sketch is an example of an Arduino sketch that is for Pure Data</p>

<pre><code>/*
  ~ arduivis ~
  [modular microcontroller programming]

  This example code is in the public domain.
*/
    
// Fading LED
  int ledpin= 3;    

// Message #1 from incoming buffer
  int input1;  

void setup() 
{
  // Create/open serial port
    Serial.begin(9600);     

  // LED Output Mode
    pinMode(ledpin, OUTPUT);     
}

void loop() 
{
  // Parse incoming Pure Data slider values
  // from Pure Data, to Arduino
    input1 = Serial.parseInt();

  // Print values of input1 to serial buffer
  // Good for debuggin
  // from Arduino, to Pure Data
    Serial.write(input1);

  // Write parsed values to LEDs
  // Fading LED
  // from Pure Data, to Arduino
    analogWrite(ledpin, input1);
}  
</code></pre>

      </section>
      <footer>
        

<!--                    <ul> -->
          <ul><a href="https://github.com/cskonopka/arduivis/zipball/master">Download <strong>ZIP File</strong></a></ul>
          <ul><a href="https://github.com/cskonopka/arduivis/tarball/master">Download <strong>TAR Ball</strong></a></ul>
          <ul><a href="https://github.com/cskonopka/arduivis">View On <strong>GitHub</strong></a></ul>
<!--         </ul> -->
<!--         <p>This project is maintained by <a href="https://github.com/cskonopka">cskonopka</a></p>
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p> -->
      </footer>
    </div>
    <script src="javascripts/scale.fix.js"></script>
    
  </body>
</html>